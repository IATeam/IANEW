<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- Generated Aug 9, 2014 1:06:21 PM by Hibernate Tools 4.0.0 -->
<hibernate-mapping>
 <class catalog="ianew" name="uow.ia.bean.Contacts" table="Contacts">
  <id name="id" type="java.lang.Integer">
   <column name="id"/>
   <generator class="identity"/>
  </id>
  <!-- <property generated="never"  name="titleId" type="java.lang.Integer">
   <column name="title_id"/>
  </property> -->
  <property generated="never"  name="firstname" type="string">
   <column name="firstname"/>
  </property>
  <property generated="never"  name="lastname" type="string">
   <column name="lastname"/>
  </property>
  <property generated="never"  name="othername" type="string">
   <column name="othername"/>
  </property>
  <!-- <property generated="never"  name="genderId" type="java.lang.Integer">
   <column name="gender_id"/>
  </property> -->
  <!-- <property generated="never"  name="contactTypeId" type="java.lang.Integer">
   <column name="contact_type_id"/>
  </property> -->
  <property generated="never"  name="homephone" type="string">
   <column name="homephone"/>
  </property>
  <property generated="never"  name="workphone" type="string">
   <column name="workphone"/>
  </property>
  <property generated="never"  name="mobilephone" type="string">
   <column name="mobilephone"/>
  </property>
  <property generated="never"  name="email" type="string">
   <column name="email"/>
  </property>
  <!-- <property generated="never"  name="accommodationId" type="java.lang.Integer">
   <column name="accommodation_id"/>
  </property> -->
  <property generated="never"  name="accommodationComment" type="string">
   <column name="accommodation_comment"/>
  </property>
  <!-- <property generated="never"  name="employmentId" type="java.lang.Integer">
   <column name="employment_id"/>
  </property> -->
  <property generated="never"  name="employmentComment" type="string">
   <column name="employment_comment"/>
  </property>
  <!-- <property generated="never"  name="culturalBackgroundId" type="java.lang.Integer">
   <column name="cultural_background_id"/>
  </property> -->
  <property generated="never" 
   name="culturalBackgroundComment" type="string">
   <column name="cultural_background_comment"/>
  </property>
  <!-- <property generated="never"  name="dangerFlagId" type="java.lang.Integer">
   <column name="danger_flag_id"/>
  </property> -->
  <property generated="never"  name="identification" type="string">
   <column name="identification"/>
  </property>
  <property generated="never"  name="dob" type="date">
   <column length="10" name="DOB"/>
  </property>
  
  <!-- Many to one relationship -->
  <many-to-one class="uow.ia.bean.AccommodationTypes" name="accommodation">
  	<column name="accommodation_id" not-null="true"/>
  </many-to-one>
  <many-to-one class="uow.ia.bean.ContactTypes" name="contactType">
   <column name="contact_type_id" not-null="true"/>
  </many-to-one>
  <many-to-one class="uow.ia.bean.TitleTypes" name="titleType">
   <column name="title_id" not-null="true"/>
  </many-to-one>
  <many-to-one class="uow.ia.bean.GenderTypes" name="genderType">
   <column name="gender_id" not-null="true"/>
  </many-to-one>
  <many-to-one class="uow.ia.bean.CulturalBackgroundTypes" name="culturalBackground">
   <column name="cultural_background_id" not-null="true"/>
  </many-to-one>
  <many-to-one class="uow.ia.bean.EmploymentTypes" name="employmentType">
   <column name="employment_id" not-null="true"/>
  </many-to-one>
  <many-to-one class="uow.ia.bean.DangerTypes" name="dangerType">
   <column name="danger_flag_id" not-null="true"/>
  </many-to-one>
  
  <!--  One to many relationship  -->
  <set fetch="select" inverse="true" name="addressesSet" sort="unsorted" table="Addresses">
   <key>
    <column name="contact_id" not-null="true"/>
   </key>
   <one-to-many class="uow.ia.bean.Addresses"/>
  </set>
  
  <set fetch="select" inverse="true" name="enquiriesSet" sort="unsorted" table="Enquiries" order-by="id">
  	<key>
  		<column name="contact_id" not-null="true"/>
  	</key>
  	<one-to-many class="uow.ia.bean.Enquiries"/>
  </set>
  
  <set fetch="select" inverse="true" name="individualCasesSet" sort="unsorted" table="Individual_Cases" order-by="id">
  	<key>
  		<column name="client_id" not-null="true"/>
  	</key>
  	<one-to-many class="uow.ia.bean.IndividualCases"/>
  </set>
   <!-- <list name="individualCasesList" table="Individual_Cases" inverse="false">
  	<key column="client_id"/>
  	<key>
  		<column name="client_id" not-null="true"/>
  	</key>
  	<list-index column="client_id" />
  	<one-to-many class="uow.ia.bean.IndividualCases"/>
  </list> -->
 
	 <!-- Many-to-many relationship -->
	 <set name="disabilitiesSet" table="Client_Disabilities" inverse="false" fetch="select" cascade="all">
	 	<key column="contact_id"/>
	 	<one-to-many class="uow.ia.bean.ClientDisabilities"/>
	 </set>
 </class>
 
 <sql-query name="findById">select * from Contacts where id = :p_id</sql-query>
</hibernate-mapping>
